<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <canvas id="canvas" width="800" height="700"></canvas>
    <script>
      var canvas = document.getElementById("canvas");

      var context = canvas.getContext("2d");

      context.font = "20px 微软雅黑";
      context.fillText("canvas绘制柱形图", 100, 20);

      //绘制横纵坐标
      context.moveTo(100, 100);
      context.lineTo(100, 500);
      context.lineTo(750, 500);
      context.stroke();
      //绘制水平线
      context.moveTo(100, 500);
      context.lineTo(750, 500);
      context.fillText("0", 60, 500);

      context.moveTo(100, 450);
      context.lineTo(750, 450);
      context.fillText("50", 50, 450);

      context.moveTo(100, 400);
      context.lineTo(750, 400);
      context.fillText("100", 50, 400);

      context.moveTo(100, 350);
      context.lineTo(750, 350);
      context.fillText("150", 50, 350);

      context.moveTo(100, 300);
      context.lineTo(750, 300);
      context.fillText("200", 50, 300);

      context.moveTo(100, 250);
      context.lineTo(750, 250);
      context.fillText("250", 50, 250);

      context.moveTo(100, 200);
      context.lineTo(750, 200);
      context.fillText("300", 50, 200);

      context.moveTo(100, 150);
      context.lineTo(750, 150);
      context.fillText("350", 50, 150);

      context.moveTo(100, 100);
      context.lineTo(750, 100);
      context.fillText("400", 50, 100);

      context.stroke();

        //底部文字
        context.fillText("食品", 125, 480);
        context.fillText("数码", 260, 150);
        context.fillText("服饰", 350, 420);
        context.fillText("配饰", 450, 380);
        context.fillText("电脑", 550, 180);
        context.fillText("手机", 650, 280);
        context.fillText("其他", 750, 320);
        context.stroke();

        // 顶部文字
        context.fillText("50", 160, 450);
        context.fillText("380", 260, 120);
        context.fillText("100", 365, 400);
        context.fillText("150", 460, 350);
        context.fillText("350", 560, 150);
        context.fillText("250", 660, 250);
        context.fillText("200", 760, 300);


      //   context.fillStyle = "red";
      //   context.fillRect(50, 480, 50, 20);
      // fillRect(x, y, w, h);
      var arr = [
        { x: 150, y: 450 },
        { x: 250, y: 120 },
        { x: 350, y: 400 },
        { x: 450, y: 350 },
        { x: 550, y: 150 },
        { x: 650, y: 250 },
        { x: 750, y: 300 },
      ];
      arr.forEach(function () {
        for (var i = 0; i < arr.length; i++) {
          context.moveTo(arr[i].x, arr[i].y);
          context.lineTo(arr[i + 1].x, arr[i + 1].y);
          context.stroke();
        }
      });
    </script>
  </body>
</html>
